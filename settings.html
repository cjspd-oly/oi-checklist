<!DOCTYPE html>
<html>

<head>
  <title>Settings - OI Checklist</title>
  <base href="/">
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="icon" type="image/png" href="images/favicon.png">
  <link rel="stylesheet" href="css/style.css">
  <link rel="stylesheet" href="css/style_settings.css">
  <script src="js/init_darkmode.js"></script>
</head>

<body>
  <nav class="navbar" id="navbar">
    <div class="navbar-content">
      <div class="navbar-left">
        <a href="/" class="home-icon">
          <svg id="home-svg" class="home-icon-svg" width="36" height="36" viewBox="0 0 24 24" stroke="none">
            <path d="M12 3l9 7v11h-6v-8h-6v8H3V10l9-7z" />
          </svg>
        </a>
        <div class="navbar-title" id="page-title">Settings</div>
      </div>
      <div class="navbar-user">
        <span class="welcome-message" id="welcome-message"></span>
        <a href="#" class="logout-button" id="logout-button">Logout</a>
        <div class="dark-mode-toggle">
          <label class="switch">
            <input type="checkbox" id="dark-mode-switch">
            <span class="slider round"></span>
          </label>
        </div>
      </div>
    </div>
  </nav>

  <div class="settings-page-new">
    <!-- Privacy -->
    <div class="settings-section-new">
      <h2 class="settings-section-title-new">Privacy</h2>

      <div id="checklist-visibility-item" class="settings-item-new clickable" data-state="private" role="button"
        tabindex="0" aria-live="polite">
        <div class="settings-item-info-new">
          <h3 class="settings-item-title-new">Checklist Visibility</h3>
          <p class="settings-item-description-new" id="checklist-visibility-description">Click to toggle your
            checklist's visibility at /profile/</p>
        </div>
        <div class="settings-control-new">
          <span class="status-badge-new private" id="visibility-badge">Private</span>
        </div>
      </div>
    </div>

    <!-- Integrations -->
    <div class="settings-section-new">
      <h2 class="settings-section-title-new">Integrations</h2>

      <div class="settings-item-new">
        <div class="settings-item-info-new">
          <h3 class="settings-item-title-new">Platform Connections</h3>
          <p class="settings-item-description-new">
            Connect and manage your integrations with other services.
          </p>
        </div>
        <div class="settings-control-new">
          <a href="connections" class="settings-button-new">Manage</a>
        </div>
      </div>
    </div>

    <!-- Customization -->
    <div class="settings-section-new">
      <h2 class="settings-section-title-new">Customization</h2>

      <div class="settings-item-new">
        <div class="settings-item-info-new">
          <h3 class="settings-item-title-new">Olympiad Layout</h3>
          <p class="settings-item-description-new">
            Customize the order of olympiads on your dashboard and hide any you don't want to see.
          </p>
        </div>
        <div class="settings-control-new">
          <a href="layout" class="settings-button-new">Arrange</a>
        </div>
      </div>

      <div class="settings-item-new" id="year-sort-item">
        <div class="settings-item-info-new">
          <h3 class="settings-item-title-new">Year Sort Order</h3>
          <p class="settings-item-description-new">
            Click to toggle whether earlier years appear first or last in your checklist.
          </p>
        </div>
        <div class="settings-control-new">
          <button id="year-sort-toggle" class="settings-button-new">Earlier first</button>
        </div>
      </div>

      <div class="settings-item-new" id="notes-toggle-item">
        <div class="settings-item-info-new">
          <h3 class="settings-item-title-new">Notes</h3>
          <p class="settings-item-description-new">
            Enable or disable problem notes: hides the note icon and editor when disabled.
          </p>
        </div>
        <div class="settings-control-new">
          <button id="notes-toggle" class="settings-button-new">Enabled</button>
        </div>
      </div>

      <!-- ------------- Platform Preference ------------- -->
      <div class="settings-item-new" id="platform-pref">
        <div class="settings-item-info-new">
          <h3 class="settings-item-title-new">Platform Preference</h3>
          <p class="settings-item-description-new">
            Drag and drop sources to set link priority. Sources are tried in order until a match is found.
          </p>
        </div>
        <div class="settings-control-new">
          <button id="platform-pref-toggle" class="settings-button-new">Edit</button>
        </div>

        <!-- Expandable panel -->
        <div id="platform-pref-panel" class="platform-pref-panel" hidden>
          <ul id="platform-pref-list" class="platform-list"></ul>
          <div id="platform-pref-bottom-slot"></div>
        </div>
      </div>

      <!-- Sync -->
      <div style="width:100%;display:flex;justify-content:center;margin:2rem 0 0 0;">
        <button id="sync-settings-button" class="settings-button-new green">Sync Settings to Account</button>
      </div>
    </div>
  </div>

  <script src="js/utils.js"></script>
  <script src="js/settings.js"></script>
</body>

</html>